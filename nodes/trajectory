#!/usr/bin/env python

import rospy
from geometry_msgs.msg import Twist, Vector3
from std_srvs.srv import Empty, EmptyResponse

def pause_func():
    '''This is the callback function of the pause service. It takes only the request
    argument and returns the response.'''
    # Publish velocities of zero
    pub.publish(Twist(Vector3(x = 0, y = 0, z = 0), Vector3(x = 0, y = 0, z = 0)))
    

def resume_func():
    pub.publish(Twist(Vector3(x = 1, y = 0, z = 0), Vector3(x = 0, y = 0, z = 0)))


if __name__ == '__main__':
    rospy.init_node('trajectory')

    pub = rospy.Publisher("cmd_vel", Twist, queue_size = 10)

    # Create pause service
    pause = rospy.Service("pause", Empty, pause_func)

    # Create resume service
    resume = rospy.Service("resume", Empty, resume_func)

    rate = rospy.Rate(50)

    # Spin() simply keeps python from exiting until this node is stopped
    rospy.spin()