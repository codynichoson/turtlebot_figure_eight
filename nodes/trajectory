#!/usr/bin/env python

import rospy
from geometry_msgs.msg import Twist, Vector3
from std_srvs.srv import Empty, EmptyResponse
from math import cos, sin, pi

def pause_func():
    '''This is the callback function of the pause service'''

    # Publish velocities of zero
    pub.publish(Twist(Vector3(x = 0, y = 0, z = 0), Vector3(x = 0, y = 0, z = 0)))
    

def resume_func():

    # Publish velocities of something???
    pub.publish(Twist(Vector3(x = 1, y = 0, z = 0), Vector3(x = 0, y = 0, z = 0)))


if __name__ == '__main__':
    rospy.init_node('trajectory')

    rate = rospy.Rate(50)

    # Retrieve parameters
    width = rospy.get_param('width')
    height = rospy.get_param('height')
    period = rospy.get_param('period')
    #rate = rospy.get_param('~rate')

    # Set publisher for cmd_vel
    pub = rospy.Publisher("turtle1/cmd_vel", Twist, queue_size = 10)
    while not rospy.is_shutdown():
            pub.publish(Twist(Vector3(x = 1, y = 0, z = 0), Vector3(x = 0, y = 0, z = 0)))
            rate.sleep()

    # Create pause service
    pause = rospy.Service("pause", Empty, pause_func)

    # Create resume service
    resume = rospy.Service("resume", Empty, resume_func)

    

    # Spin() simply keeps python from exiting until this node is stopped
    rospy.spin()